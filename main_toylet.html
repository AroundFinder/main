<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nearby Toilet Information</title>
    <style>
        /* ì§€ë„ì™€ í™”ë©´ êµ¬ì„±ì„ ìœ„í•œ ìŠ¤íƒ€ì¼ */
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: gray;
            
        }

        h1 {
            margin: 20px 0;
            font-display: 10;
        }

        /* ì§€ë„ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
        #map {
            height: 800px; /* ì§€ë„ì˜ ë†’ì´ ì„¤ì • */
            width: 100%; /* ì§€ë„ì˜ ë„ˆë¹„ë¥¼ 100%ë¡œ ì„¤ì • */
            max-width: 1600px; /* ìµœëŒ€ ë„ˆë¹„ ì„¤ì • */
            border: 1px solid #ccc; /* ê²½ê³„ì„  ì„¤ì • */
        }
    </style>
</head>
<body>
    <h1>ğŸš» í™”ì¥ì‹¤ ì •ë³´</h1> <!-- ì œëª© -->

    <!-- ì§€ë„ ì»¨í…Œì´ë„ˆ -->
    <div id="map">ì§€ë„ ë¡œë”© ì¤‘...</div>

    <script>
        // Google Maps API ë¡œë“œ ë° ì´ˆê¸°í™” í•¨ìˆ˜
        function initMap() {
            // ì‚¬ìš©ì ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜´
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    const userLocation = {
                        lat: position.coords.latitude,  // ìœ„ë„
                        lng: position.coords.longitude  // ê²½ë„
                    };

                    // ì§€ë„ ê°ì²´ ìƒì„±
                    const map = new google.maps.Map(document.getElementById('map'), {
                        center: userLocation,  // í˜„ ìœ„ì¹˜ë¥¼ ì§€ë„ì˜ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ì •
                        zoom: 18  // ì¤Œ ë ˆë²¨ ì„¤ì •
                    });

                    // í˜„ì¬ ìœ„ì¹˜ì— ë§ˆì»¤ ì¶”ê°€
                    const marker = new google.maps.Marker({
                        position: userLocation,
                        map: map,
                        title: 'Your current location'
                    });

                }, function() {
                    // ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆì„ ë•Œì˜ ì²˜ë¦¬
                    handleLocationError(true);
                });
            } else {
                // ë¸Œë¼ìš°ì €ê°€ Geolocationì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì˜ ì²˜ë¦¬
                handleLocationError(false);
            }
        }

        // ìœ„ì¹˜ ì—ëŸ¬ ì²˜ë¦¬ í•¨ìˆ˜
        function handleLocationError(browserHasGeolocation) {
            const errorMessage = browserHasGeolocation
                ? 'Error: The Geolocation service failed.'
                : 'Error: Your browser doesn\'t support geolocation.';
            alert(errorMessage);  // ì‚¬ìš©ìì—ê²Œ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì•Œë¦¼
        }
    </script>

    <!-- Google Maps API ë¶ˆëŸ¬ì˜¤ê¸° -->
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAgaitdH5CfXdravO33JIt_LvNkjieIXxQ&callback=initMap">
    </script>
</body>
</html>
